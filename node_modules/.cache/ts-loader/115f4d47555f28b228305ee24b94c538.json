{"remainingRequest":"/Users/John/projects/vue/prototype1/node_modules/babel-loader/lib/index.js!/Users/John/projects/vue/prototype1/node_modules/ts-loader/index.js??ref--15-2!/Users/John/projects/vue/prototype1/node_modules/eslint-loader/index.js??ref--14-0!/Users/John/projects/vue/prototype1/src/service/jsstore_con.ts","dependencies":[{"path":"/Users/John/projects/vue/prototype1/src/service/jsstore_con.ts","mtime":1636465671537},{"path":"/Users/John/projects/vue/prototype1/babel.config.js","mtime":1636368247803},{"path":"/Users/John/projects/vue/prototype1/node_modules/cache-loader/dist/cjs.js","mtime":1636035756636},{"path":"/Users/John/projects/vue/prototype1/node_modules/babel-loader/lib/index.js","mtime":1636035757158},{"path":"/Users/John/projects/vue/prototype1/node_modules/ts-loader/index.js","mtime":1636035757224},{"path":"/Users/John/projects/vue/prototype1/node_modules/eslint-loader/index.js","mtime":1636035756720}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi8KCi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby13ZWJwYWNrLWxvYWRlci1zeW50YXggKi8KLy8gVE9ETyAnVGhpcyBuZWVkcyB0byBiZSBjaGVja2VkIHRvIHNlZSBpZiBpdCBvbmx5IHRyaWdnZXJzIG9uY2UnCmltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tICdqc3N0b3JlJzsKaW1wb3J0IGl0ZW1PYmogZnJvbSAnLi9pdGVtLmpzb24nOwoKdmFyIGdldFdvcmtlclBhdGggPSBmdW5jdGlvbiBnZXRXb3JrZXJQYXRoKCkgewogIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgcmV0dXJuIHJlcXVpcmUoJ2ZpbGUtbG9hZGVyP25hbWU9c2NyaXB0cy9bbmFtZV0uW2hhc2hdLmpzIWpzc3RvcmUvZGlzdC9qc3N0b3JlLndvcmtlci5qcycpOwogIH0KCiAgcmV0dXJuIHJlcXVpcmUoJ2ZpbGUtbG9hZGVyP25hbWU9c2NyaXB0cy9bbmFtZV0uW2hhc2hdLmpzIWpzc3RvcmUvZGlzdC9qc3N0b3JlLndvcmtlci5taW4uanMnKTsKfTsgLy8gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IHdlIGFyZSB1c2luZyBvbmx5IG9uZSBpbnN0YW5jZS4KLy8gT3RoZXJ3aXNlIGR1ZSB0byBtdWx0aXBsZSBpbnN0YW5jZSBtdWx0aXBsZSB3b3JrZXIgd2lsbCBiZSBjcmVhdGVkLgoKCnZhciB3b3JrZXJQYXRoID0gZ2V0V29ya2VyUGF0aCgpLmRlZmF1bHQ7CmV4cG9ydCB2YXIgZGJuYW1lID0gJ0Jvb29tJzsKZXhwb3J0IHZhciBpZGJDb24gPSBuZXcgQ29ubmVjdGlvbihuZXcgV29ya2VyKHdvcmtlclBhdGgpKTsKCnZhciBnZXREYXRhYmFzZSA9IGZ1bmN0aW9uIGdldERhdGFiYXNlKCkgewogIHZhciB0YmxJdGVtID0gaXRlbU9iajsKICB2YXIgZGF0YUJhc2UgPSB7CiAgICBuYW1lOiBkYm5hbWUsCiAgICB0YWJsZXM6IFt0YmxJdGVtXQogIH07CiAgcmV0dXJuIGRhdGFCYXNlOwp9OwoKZXhwb3J0IHZhciBpbml0SnNTdG9yZSA9IGZ1bmN0aW9uIGluaXRKc1N0b3JlKCkgewogIHRyeSB7CiAgICB2YXIgZGF0YUJhc2UgPSBnZXREYXRhYmFzZSgpOwogICAgaWRiQ29uLmluaXREYihkYXRhQmFzZSk7CiAgfSBjYXRjaCAoZXgpIHsKICAgIGNvbnNvbGUuZXJyb3IoZXgpOwogIH0KfTs="},{"version":3,"sources":["/Users/John/projects/vue/prototype1/node_modules/eslint-loader/index.js??ref--14-0!/Users/John/projects/vue/prototype1/src/service/jsstore_con.ts"],"names":[],"mappings":"AAAA;;AACA;AAEA;AACA,SACgC,UADhC,QAEO,SAFP;AAGA,OAAO,OAAP,MAAoB,aAApB;;AAEA,IAAM,aAAa,GAAG,SAAhB,aAAgB,GAAK;AACzB,MAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,aAA7B,EAA4C;AAC1C,WAAO,OAAO,CAAC,0EAAD,CAAd;AACD;;AAED,SAAO,OAAO,CAAC,8EAAD,CAAd;AACD,CAND,C,CAQA;AACA;;;AACA,IAAM,UAAU,GAAG,aAAa,GAAG,OAAnC;AAEA,OAAO,IAAM,MAAM,GAAG,OAAf;AACP,OAAO,IAAM,MAAM,GAAG,IAAI,UAAJ,CAAe,IAAI,MAAJ,CAAW,UAAX,CAAf,CAAf;;AAEP,IAAM,WAAW,GAAG,SAAd,WAAc,GAAK;AACvB,MAAM,OAAO,GAAW,OAAxB;AACA,MAAM,QAAQ,GAAc;AAC1B,IAAA,IAAI,EAAE,MADoB;AAE1B,IAAA,MAAM,EAAE,CAAC,OAAD;AAFkB,GAA5B;AAIA,SAAO,QAAP;AACD,CAPD;;AASA,OAAO,IAAM,WAAW,GAAG,SAAd,WAAc,GAAW;AACpC,MAAI;AACF,QAAM,QAAQ,GAAG,WAAW,EAA5B;AACA,IAAA,MAAM,CAAC,MAAP,CAAc,QAAd;AACD,GAHD,CAGE,OAAO,EAAP,EAAW;AACX,IAAA,OAAO,CAAC,KAAR,CAAc,EAAd;AACD;AACF,CAPM","sourcesContent":["/* eslint-disable global-require */\n/* eslint-disable import/no-webpack-loader-syntax */\n\n// TODO 'This needs to be checked to see if it only triggers once'\nimport {\n  IDataBase, DATA_TYPE, ITable, Connection,\n} from 'jsstore';\nimport itemObj from './item.json';\n\nconst getWorkerPath = () => {\n  if (process.env.NODE_ENV === 'development') {\n    return require('file-loader?name=scripts/[name].[hash].js!jsstore/dist/jsstore.worker.js');\n  }\n\n  return require('file-loader?name=scripts/[name].[hash].js!jsstore/dist/jsstore.worker.min.js');\n};\n\n// This will ensure that we are using only one instance.\n// Otherwise due to multiple instance multiple worker will be created.\nconst workerPath = getWorkerPath().default;\n\nexport const dbname = 'Booom';\nexport const idbCon = new Connection(new Worker(workerPath));\n\nconst getDatabase = () => {\n  const tblItem: ITable = itemObj;\n  const dataBase: IDataBase = {\n    name: dbname,\n    tables: [tblItem],\n  };\n  return dataBase;\n};\n\nexport const initJsStore = (): void => {\n  try {\n    const dataBase = getDatabase();\n    idbCon.initDb(dataBase);\n  } catch (ex) {\n    console.error(ex);\n  }\n};\n"],"sourceRoot":""}]}